/*
	JWL - The JavaScript Widget Library version 0.7
	Copyright (c) 2016 The Zonebuilder (zone.builder@gmx.com)
	http://sourceforge.net/projects/jwl-library/
	Licenses: GNU GPL2 or later; GNU LGPLv3 or later (http://sourceforge.net/p/jwl-library/wiki/License/)
 */
/**
	@fileOverview	JWL.components.playerbar configuration
*/
/* jshint browser: true, curly: true, eqeqeq: true, expr: true, funcscope: true, immed: true, latedef: true, loopfunc: true,  
	onevar: true, newcap: true, noarg: true, node: true, strict: true, trailing: true, undef: true, unused: vars, wsh: true */
/* globals JUL, JWL */

(function() {
'use strict';

/* generated by JCS version 1.2 */

/**
	General purpose player bar
	@namespace	JWL.components.playerbar namespace
	@name	JWL.components.playerbar
*/
JUL.ns('JWL.components.playerbar');

JUL.apply(JWL.components.playerbar, /** @lends JWL.components.playerbar */ {
	keepBindings: true,
	listenersProperty: 'listeners',
	noLogic: false,
	ns: 'JWL.components.playerbar',
	suggestedFramework: 'html',
	title: 'JWL Components - General purpose player bar',
	version: '1.1470029639425',
	init: function () {
		JWL.parser._keepInstance = true;
		JWL.parser.create(this.ui, this.logic, document.body);
	},
	parserConfig: {
		customFactory: 'JUL.UI.createDom', defaultClass: 'html', topDown: true, useTags: true
	},
	/**
		Component UI
		@type	Object
	*/
	ui: {
		tag: 'div', cid: '.playerbar', css: 'playerbar', children: [
			{tag: 'a', cid: '.playerbar-gotostart', css: 'fa fa-fast-backward', href: '#', title: 'Go to start'},
			{tag: 'a', cid: '.playerbar-stepbackward', css: 'fa fa-step-backward', href: '#', title: 'Step backward'},
			{tag: 'a', cid: '.playerbar-play', css: 'fa fa-play', href: '#', title: 'Play'},
			{tag: 'a', cid: '.playerbar-stepforward', css: 'fa fa-step-forward', href: '#', title: 'Step forward'},
			{tag: 'a', cid: '.playerbar-gotoend', css: 'fa fa-fast-forward', href: '#', title: 'Go to end'},
			{tag: 'a', cid: '.playerbar-stop', css: 'fa fa-stop', href: '#', title: 'Stop'}
		]
	},
	/**
		Component logic
		@type	Object
	*/
	logic: {
		'.playerbar-gotoend': {
			listeners: {
				click: function (oEvent) {
					oEvent = oEvent || event;	
					try { oEvent.preventDefault(); } catch(e) {}
					JWL.trigger(this.parentNode, 'gotoend');
					return false;
				}
			}
		},
		'.playerbar-gotostart': {
			listeners: {
				click: function (oEvent) {
					oEvent = oEvent || event;	
					try { oEvent.preventDefault(); } catch(e) {}
					JWL.trigger(this.parentNode, 'gotostart');
					return false;
				}
			}
		},
		'.playerbar-play': {
			listeners: {
				click: function (oEvent) {
					oEvent = oEvent || event;	
					try { oEvent.preventDefault(); } catch(e) {}
					var sClass = this.getAttribute('class');
					if (sClass.indexOf('fa-play') > -1) {
						JWL.trigger(this.parentNode, 'play');
						this.setAttribute('class', sClass.replace('fa-play', 'fa-pause'));
						this.setAttribute('title', 'Pause');
					}
					else {
						JWL.trigger(this.parentNode, 'pause');
						this.setAttribute('class', sClass.replace('fa-pause', 'fa-play'));
						this.setAttribute('title', 'Play');
					}
					return false;
				}
			}
		},
		'.playerbar-stepbackward': {
			listeners: {
				click: function (oEvent) {
					oEvent = oEvent || event;	
					try { oEvent.preventDefault(); } catch(e) {}
					JWL.trigger(this.parentNode, 'stepbackward');
					return false;
				}
			}
		},
		'.playerbar-stepforward': {
			listeners: {
				click: function (oEvent) {
					oEvent = oEvent || event;	
					try { oEvent.preventDefault(); } catch(e) {}
					JWL.trigger(this.parentNode, 'stepforward');
					return false;
				}
			}
		},
		'.playerbar-stop': {
			listeners: {
				click: function (oEvent) {
					oEvent = oEvent || event;	
					try { oEvent.preventDefault(); } catch(e) {}
					JWL.trigger(this.parentNode, 'stop');
					var oPlay = this.parentNode.childNodes[2];
					var sClass = oPlay.getAttribute('class');
					oPlay.setAttribute('class', sClass.replace('fa-pause', 'fa-play'));
					oPlay.setAttribute('title', 'Play');
					return false;
				}
			}
		}
	}
});

})();

/* end JUL.components.playerbar.js */
